<!DOCTYPE html>
<html>
	<head>
		<title>LAB_12</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="angularjs-1.6.4-dist/css/w3.css">
		<style>
			.ng-touched{
				box-shadow: 0 0 0 4px rgba(100, 100, 255, 0.5);
			}
		</style>
	</head>
	
	<body ng-app="LAB_12" ng-controller="LAB_12_Controller">
		<div class="w3-container">
			<h3>Users</h3>

			<table class="w3-table w3-bordered w3-striped">
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Birthday</th>
					<th>Actions</th>
				</tr>
				<tr ng-repeat="(id, user) in users" id="{{id}}">
					<td>{{user.firstName}}</td>
					<td>{{user.lastName}}</td>
					<td>{{user.birthDate.toLocaleDateString() | dateFormat}}</td>
					<td>
						<button class="w3-btn w3-ripple" ng-click="editUser(id)">&#9998; Edit</button>
					</td>
				</tr>
			</table>
			
			<button class="w3-btn w3-green w3-ripple" ng-click="editUser('new')">&#9998; Create New User</button>
		</div>
		
		<div class="w3-modal w3-show" ng-hide="popupHidden">
			<div class="w3-modal-content">
				<div class="w3-container w3-padding-16">
					<span ng-click="hidePopup()" class="w3-button w3-display-topright">&times;</span>

					<form>
						<h3 ng-show="edit">Create New User:</h3>
						<h3 ng-hide="edit">Edit User:</h3>
						<label>First Name:</label>
						<input class="w3-input w3-border" type="text" ng-model="temp.firstName" placeholder="First Name">
						<br>
						<label>Last Name:</label>
						<input class="w3-input w3-border" type="text" ng-model="temp.lastName" placeholder="Last Name">
						<br>
						<label>Birth Date:</label>
						<input class="w3-input w3-border ng-touched" type="date" ng-model="temp.birthDate" placeholder="Birthday">
						<br>
						<label>Repeat:</label>
						<input class="w3-input w3-border" type="password" ng-model="passw2" placeholder="Repeat Password">
						<br>
						<button class="w3-btn w3-green w3-ripple" ng-click="saveUser()" ng-disabled="error || incomplete">&#10004; Save Changes</button>
					</form>
				</div>
			</div>
		</div>
	</body>  
	
	<script src="angularjs-1.6.4-dist/js/angular.min.js"></script> 
	<script src="myUsers.js"></script> 
</html>
